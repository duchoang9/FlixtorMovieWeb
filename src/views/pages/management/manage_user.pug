doctype html
html(lang="en")
  head
    meta(charset='UTF-8')
    meta(http-equiv='X-UA-Compatible' content='IE=edge')
    meta(name='viewport' content='width=device-width, initial-scale=1.0')
    script(src='https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js')
    link(href='https://fonts.googleapis.com/css2?family=Play&display=swap' rel='stylesheet')
    link(href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous")
    // --======== CSS=======
    link(rel="stylesheet" type="text/css" href="/css/id.css")
    link(rel="stylesheet" type="text/css" href="/css/admin.css")
    // --===== Iconscout CSS====
    link(rel='stylesheet' href='https://unicons.iconscout.com/release/v4.0.0/css/line.css')
    title #{ title }

  body
    nav
      .menuitems
        ul.nav-links
          li
            a(href='/management/users')
              span.link-name Manage user
          li
            a(href='/management/movies') 
              span.link-name Manage movie
          li
            a(href='/management/comments')
              span.link-name Manage comment

    section.dashboard
        .top
            h1.uil.uil-bars.sidebar-toggle
        .dash-content
            .title
                i.uil.uil-clock-three
                span.text User list
            .input-group
                i.uil.uil-search
                input(type='search' placeholder='Search User...')
            .feture 
                button#btn-make-admin.btn.btn-info(type='button') Make Admin
                button#btn-delete.btn.btn-danger(type='button') Delete

            .activity
            if userList && userList.length > 0
                table
                    thead
                        tr
                            th
                                | Id 
                            th
                                | User Name 
                            th
                                | Email 
                            th
                                | Role
                            th.sort
                                | Ban 
                                span.icon-arrow &UpArrow;
                            th
                                | Make Admin
                    tbody
                    each user in userList
                        tr
                            td.user-value(class=`${user.ban >= 5 ? 'ban': 'not-ban'}`) #{ user.id }
                            td.user-value #{ user.user_name }
                            td.user-value #{ user.email }
                            td.user-value #{ user.role }
                            td.user-value #{ user.ban }
                            td.make-admin
                                .form-check(style=`display: ${user.role === 'admin' ? 'none' : 'block'}`)
                                    input.form-check-input(type='checkbox', name='makeAdminCheckBox', value=user.id)
            else 
                .alert.alert-danger(role= 'alert') SERVER ERROR.
    script(src='/js/tableAction.js')
    script(src='/js/manageUsers.js')

                        
